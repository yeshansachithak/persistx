<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./persistx-256.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PersistX Interactive Tutorial Demo</title>

    <!-- SPA redirect for GitHub Pages (rafgraph/spa-github-pages) -->
    <script>
        (function (l) {
            if (l.search && l.search[1] === "/") {
                var decoded = l.search
                    .slice(1)
                    .split("&")
                    .map(function (s) {
                        return s.replace(/~and~/g, "&");
                    })
                    .join("?");
                window.history.replaceState(
                    null,
                    null,
                    l.pathname.slice(0, -1) + decoded + l.hash
                );
            }
        })(window.location);
    </script>
</head>

<body>
    <noscript>
        <h1>PersistX Demo</h1>
        <p>JavaScript is required to run this demo.</p>
        <p>Please enable JavaScript in your browser settings.</p>
    </noscript>

    <div id="root"></div>

    <!-- IMPORTANT:
         Do NOT hardcode /persistx/index.js.
         Vite will inject the correct built assets at runtime by serving index.html.
         For 404.html, we just need to load the SPA entry the same way index.html would.
         The simplest reliable approach is to redirect to the app root. -->
    <script>
        // If we reached 404.html directly, send to the SPA entry (base path)
        // Keeping it client-side avoids double-load loops.
        var base = "/persistx/";
        if (!window.location.pathname.startsWith(base)) base = "/";
        // If already at /persistx/404.html, go to /persistx/
        if (window.location.pathname.endsWith("/404.html")) {
            window.location.replace(base);
        }
    </script>
</body>

</html>